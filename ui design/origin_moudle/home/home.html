<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css">
    <title>Hello, world!</title>
  </head>
  <body>
    <div class="row mt-2 ml-2">
      <!-- 校徽icon -->
      <div class="col-1">
        <img src="gdpu_icon.png" class="img-thumbnail" alt="广东药科大学校徽，加载失败">
      </div>
      <!-- 导航栏 -->
      <div class="col-10 mt-auto">
        <ul class="nav nav-tabs nav-pills nav-fill ">
          <li class="nav-item">
            <a class="nav-link active" href="#">首页</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">数据页</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">统计页</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">待开发</a>
          </li>
        </ul>
      </div>
    </div>
    <hr />
    <div class="row">
      <!-- 统计概览 -->
      <div class="col-6">
        <!-- 线状图统计 -->
        <div class="col-12">
          <h2 class="pl-2">流量统计数据</h2>
        </div>
        <div id="netflow_echarts" style="width: 100%; height: 100%;">

        </div>
      </div>
      <div class="col-6" id="recentip">
        <!-- 热点IP列表 -->
        <div class="col-12">
          <h2 class="pl-2">近期热点IP列表</h2>
        </div>
        <table class="table">
          <thead>
            <tr>
              <th scope="col" v-for="th in ths">
                {{th.text}}
              </th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="tr in trs">
              <th scope="row">{{tr.num}}</th>
              <td v-for="td in tr.tds">{{td}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <hr />
    <div class="row">
      <!-- 最近数据列表 -->
      <div class="col-12">
        <h2 class="pl-2">最近数据</h2>
      </div>
      <div class="col-12" id="recentdata">
        <table class="table table-hover table-sm " style="table-layout:fixed;">
          <thead class="thead-dark">
            <tr>
              <th scope="col" v-for="th in ths">
                {{th.text}}
              </th>
            </tr>
          </thead>
          <tbody class="overflow-auto">
            <tr v-for="tr in trs" >
              <!-- <th scope="row">{{tr.flow_id}}</th> -->
              <td> <div class="overflow-auto" style="white-space: nowrap; text-overflow:ellipsis;">{{tr.flow_id}}</div> </td>
              <td> <div class="overflow-auto" style="white-space: nowrap; text-overflow:ellipsis;">{{tr.flow_content}}</div> </td>
              <td> <div class="overflow-auto" style="white-space: nowrap; text-overflow:ellipsis;">{{tr.flow_timestamp}}</div> </td>
              <td> <div class="overflow-auto" style="white-space: nowrap; text-overflow:ellipsis;">{{parseInt((tr.flow_content.length)/3)*2}}</div> </td>
              <!-- <td v-for="td in tr.tds">
                {{td}}
              </td> -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/popper.js/2.4.0/umd/popper.min.js"></script>
    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script> -->
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.7.0/echarts-en.common.min.js"></script>
    <script src="home.js"></script>
  </body>
</html>